<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Pirania</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <main class="main">
    <h1>Success!</h1>
    <div>
        <form method="get" id="form" action="http://thisnode.info/cgi-bin/pirania/handle_auth">
          <br><input type="submit"  value="Submit">
          <br>
        </form>
      </div>
  </main>
  <script>
    var form = document.getElementById('form')
    function createInput (p) {
      var [key, value] = p.split('=')
      var elem = document.createElement('input')
      form.appendChild(elem)
      elem.setAttribute('type', 'hidden')
      elem.setAttribute('id', key)
      elem.setAttribute('name', key)
      elem.value = value
    }
    var paramsArray = window.location.search.split('?')[1]
    var variousParams = paramsArray.split('&')
    if (variousParams) {
      variousParams.map(function (p) {
        createInput(p)
      })
    } else {
      createInput(paramsArray)
      console.log("TCL: paramsArray", paramsArray)
    }
  </script>
</body>